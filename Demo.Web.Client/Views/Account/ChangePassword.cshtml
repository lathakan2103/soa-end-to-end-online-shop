@model Demo.Web.Models.AccountChangePasswordModel
@{
    ViewBag.Title = "Account Change Password";
}

<div data-ng-controller="AccountChangePasswordController" ng-init="passwordModel.LoginEmail = '@User.Identity.Name'">
    <div ng-switch="viewMode">
        <div ng-switch-when="changepassword">
            <div style="margin-top: 60px;"></div>
            @Html.Partial("~/Views/Shared/_ValidationErrors.cshtml")
            <fieldset>
                <legend>Chnge current password</legend>

                <p class="input-group" style="width: 400px;">
                    <span class="input-group-addon" style="width: 140px; text-align: left;">Old Password:</span>
                    <input type="password" class="form-control" ng-model="passwordModel.OldPassword" placeholder="old password"/>
                </p>
                <p class="input-group" style="width: 400px;">
                    <span class="input-group-addon" style="width: 140px; text-align: left;">New Password:</span>
                    <input type="password" class="form-control" ng-model="passwordModel.NewPassword" placeholder="new password"/>
                </p>
            </fieldset>
            <hr style="width: 415px; text-align: left;"/>
            <p>
                <button type="button" class="btn btn-info" ng-click="changePassword()">Change Password</button>
            </p>
        </div>
        <div ng-switch-when="success">
            <div style="margin-top: 60px;"></div>
            <h3>Password changed - thank you.</h3>
        </div>
    </div>
</div>

@section scripts
{
    <script src="@Url.Content("~/Binding/Models/AccountChangePasswordModel.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Binding/Controllers/AccountChangePasswordController.js")" type="text/javascript"></script>
}